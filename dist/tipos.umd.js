!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):t.tipos=n()}(this,function(){function t(t){var n=0,a="",e=[],i="",r=[],o=0,u=0;t+=" ";for(var c=0;c<t.length;c++){var d=t[c];switch(d){case"'":n&&(o?o--:o++),a+=d;break;case'"':n&&(u?u--:u++),a+=d;break;case"(":if(o||u){a+=d;continue}n?a+=d:(i=a,a=""),n++;break;case")":if(o||u){a+=d;continue}--n?a+=d:(r.push(a),a=i);break;case",":1===n?(r.push(a),a=""):a+=d;break;case" ":case"\n":if(!a)continue;n?a+=d:(e.push({fun:a,args:r.map(function(t){var n=t.match(/^(')(.+)(')$/);return(n=n||t.match(/^(")(.+)(")$/))?n[2]:JSON.parse(t)})}),a="",r=[]);break;default:a+=d}}return e}function n(a,e,i){for(var r in void 0===i&&(i={}),a){var o=a[r];switch(typeof o){case"string":i[r]=t(o).map(function(t){var n=t.args,a=t.fun.match(/([^\?]+)(\?){0,1}/),i=a[1],r=a[2];return r="?"===r,function(t,a){var o=e[i].apply(e,[t,a].concat(n));return o.valid?o:Object.assign({},o,{optional:r,method:o.method||i})}}).concat(function(t){return{valid:!0,data:t}}).reduceRight(function(t,n){return function(a){return n?n(t,a):a}});break;case"object":n(a[r],e,i[r]={})}}return function(t){return function t(n,a,e){void 0===a&&(a={});var i={},r={},o={valid:0,invalid:0};for(var u in n){var c=(e?e+".":"")+u;if("object"==typeof n[u]){var d=t(n[u],a[u],c);if(o.valid+=d.count.valid,o.invalid+=d.count.invalid,d.count.valid&&(i[u]=d.valid),d.count.invalid)for(var f in d.invalid)d.optional||(r[f]=d.invalid[f])}else{var v=n[u](a[u]);if(v.valid)i[u]=v.data,o.valid++;else{if(v.optional)continue;r[c]=v,o.invalid++}}}return{valid:i,invalid:r,count:o}}(i,t)}}var a=function(){};return a.prototype.type=function(t,n,a,e){var i={}.toString.call(n).match(/ ([^\]]+)/)||[],r=i[1];return void 0===r&&(r=""),r.toLowerCase()===a?t(n):{valid:!1,data:n}},a.prototype.equal=function(t,n,a){return a===n?t(n):{valid:!1,data:n}},a.prototype.minLength=function(t,n,a){return n.length>=a?t(n):{valid:!1,data:n}},a.prototype.maxLength=function(t,n,a){return n.length<=a?t(n):{valid:!1,data:n}},a.prototype.default=function(t,n,a){return t(void 0!==n?n:a)},a.prototype.min=function(t,n,a){return n>=a?t(n):{valid:!1,data:n}},a.prototype.max=function(t,n,a){return n<=a?t(n):{valid:!1,data:n}},a.prototype.not=function(t,n,a){return a!==n?t(n):{valid:!1,data:n}},a.prototype.option=function(t,n){for(var a=[],e=arguments.length-2;e-- >0;)a[e]=arguments[e+2];return a.indexOf(n)>-1?t(n):{valid:!1,data:n}},function(t){var e=new a,i=n(t,e);return i.types=e,i}});
//# sourceMappingURL=tipos.umd.js.map
